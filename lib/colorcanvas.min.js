(function(){this.ColorCanvas=function(t){return new ColorCanvas.Picker(t)}}).call(this),function(){var t,r,e,o,n,i=[].slice,s=[].indexOf||function(t){for(var r=0,e=this.length;e>r;r++)if(r in this&&this[r]===t)return r;return-1},a=function(t,r){return function(){return t.apply(r,arguments)}},l={}.hasOwnProperty,h=function(t,r){function e(){this.constructor=t}for(var o in r)l.call(r,o)&&(t[o]=r[o]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};r={bind:function(t,r){var e,o,n,i,s;for(o=t.split(" "),e=this.hasOwnProperty("_callbacks")&&this._callbacks||(this._callbacks={}),i=0,s=o.length;s>i;i++)n=o[i],e[n]||(e[n]=[]),e[n].push(r);return this},one:function(t,r){return this.bind(t,function(){return this.unbind(t,arguments.callee),r.apply(this,arguments)})},trigger:function(){var t,r,e,o,n,s,a;if(t=arguments.length>=1?i.call(arguments,0):[],e=t.shift(),o=this.hasOwnProperty("_callbacks")&&(null!=(a=this._callbacks)?a[e]:void 0)){for(n=0,s=o.length;s>n&&(r=o[n],r.apply(this,t)!==!1);n++);return!0}},unbind:function(t,r){var e,o,n,i,s,a;if(!t)return this._callbacks={},this;if(n=null!=(a=this._callbacks)?a[t]:void 0,!n)return this;if(!r)return delete this._callbacks[t],this;for(o=i=0,s=n.length;s>i;o=++i)if(e=n[o],e===r){n=n.slice(),n.splice(o,1),this._callbacks[t]=n;break}return this}},n=["included","extended"],e=function(){function t(){"function"==typeof this.init&&this.init.apply(this,arguments)}return t.include=function(t){var r,e,o;if(!t)throw"include(obj) requires obj";for(r in t)e=t[r],0>s.call(n,r)&&(this.prototype[r]=e);return null!=(o=t.included)&&o.apply(this),this},t.extend=function(t){var r,e,o;if(!t)throw"extend(obj) requires obj";for(r in t)e=t[r],0>s.call(n,r)&&(this[r]=e);return null!=(o=t.extended)&&o.apply(this),this},t.proxy=function(t){var r=this;return function(){return t.apply(r,arguments)}},t.prototype.proxy=function(t){var r=this;return function(){return t.apply(r,arguments)}},t}(),t=function(t){function e(t){this.release=a(this.release,this);var r,o,n;this.options=t,n=this.options;for(r in n)o=n[r],this[r]=o;this.el||(this.el=document.createElement(this.tag)),this.el=$(this.el),this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.eventSplitter=/^(\S+)\s*(.*)$/,e.prototype.tag="div",e.include(r),e.prototype.release=function(){return this.el.remove(),this.unbind()},e.prototype.$=function(t){return $(t,this.el)},e.prototype.delegateEvents=function(t){var r,e,o,n,i,s,a=this;s=[];for(e in t)n=t[e],"function"!=typeof n&&(n=function(t){return function(){return a[t].apply(a,arguments),!0}}(n)),o=e.match(this.eventSplitter),r=o[1],i=o[2],""===i?s.push(this.el.bind(r,n)):s.push(this.el.delegate(i,r,n));return s},e.prototype.refreshElements=function(){var t,r,e,o;e=this.elements,o=[];for(t in e)r=e[t],o.push(this[r]=this.$(t));return o},e.prototype.html=function(t){return this.el.html(t.el||t),this.refreshElements(),this.el},e.prototype.append=function(){var t,r,e;return r=arguments.length>=1?i.call(arguments,0):[],r=function(){var e,o,n;for(n=[],e=0,o=r.length;o>e;e++)t=r[e],n.push(t.el||t);return n}(),(e=this.el).append.apply(e,r),this.refreshElements(),this.el},e}(e),o=ColorCanvas.Spine={},o.Controller=t}.call(this),function(t){function r(t){if("object"==typeof t&&t.hasOwnProperty("_tc_id"))return t;var r=e(t),o=r.r,i=r.g,a=r.b,h=S(r.a),c=w(100*h)/100,u=r.format;return 1>o&&(o=w(o)),1>i&&(i=w(i)),1>a&&(a=w(a)),{ok:r.ok,format:u,_tc_id:m++,alpha:h,toHsv:function(){var t=s(o,i,a);return{h:360*t.h,s:t.s,v:t.v,a:h}},toHsvString:function(){var t=s(o,i,a),r=w(360*t.h),e=w(100*t.s),n=w(100*t.v);return 1==h?"hsv("+r+", "+e+"%, "+n+"%)":"hsva("+r+", "+e+"%, "+n+"%, "+c+")"},toHsl:function(){var t=n(o,i,a);return{h:360*t.h,s:t.s,l:t.l,a:h}},toHslString:function(){var t=n(o,i,a),r=w(360*t.h),e=w(100*t.s),s=w(100*t.l);return 1==h?"hsl("+r+", "+e+"%, "+s+"%)":"hsla("+r+", "+e+"%, "+s+"%, "+c+")"},toHex:function(){return l(o,i,a)},toHexString:function(){return"#"+l(o,i,a)},toRgb:function(){return{r:w(o),g:w(i),b:w(a),a:h}},toRgbString:function(){return 1==h?"rgb("+w(o)+", "+w(i)+", "+w(a)+")":"rgba("+w(o)+", "+w(i)+", "+w(a)+", "+c+")"},toName:function(){return $[l(o,i,a)]||!1},toFilter:function(){var t=l(o,i,a),r=Math.round(255*S(h)).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+r+t+",endColorstr=#"+r+t+")"},toString:function(t){t=t||this.format;var r=!1;return"rgb"===t&&(r=this.toRgbString()),"hex"===t&&(r=this.toHexString()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()}}}function e(t){var r={r:255,g:255,b:255},e=1,n=!1,s=!1;if("string"==typeof t&&(t=v(t)),"object"==typeof t){if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b"))r=o(t.r,t.g,t.b),n=!0,s="rgb";else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v"))t.s=g(t.s),t.v=g(t.v),r=a(t.h,t.s,t.v),n=!0,s="hsv";else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")){t.s=g(t.s),t.l=g(t.l);var r=i(t.h,t.s,t.l);n=!0,s="hsl"}t.hasOwnProperty("a")&&(e=t.a)}return{ok:n,format:t.format||s,r:_(255,x(r.r,0)),g:_(255,x(r.g,0)),b:_(255,x(r.b,0)),a:e}}function o(t,r,e){return{r:255*c(t,255),g:255*c(r,255),b:255*c(e,255)}}function n(t,r,e){t=c(t,255),r=c(r,255),e=c(e,255);var o,n,i=x(t,r,e),s=_(t,r,e),a=(i+s)/2;if(i==s)o=n=0;else{var l=i-s;switch(n=a>.5?l/(2-i-s):l/(i+s),i){case t:o=(r-e)/l+(e>r?6:0);break;case r:o=(e-t)/l+2;break;case e:o=(t-r)/l+4}o/=6}return{h:o,s:n,l:a}}function i(t,r,e){function o(t,r,e){return 0>e&&(e+=1),e>1&&(e-=1),1/6>e?t+6*(r-t)*e:.5>e?r:2/3>e?t+6*(r-t)*(2/3-e):t}var n,i,s;if(t=c(t,360),r=c(r,100),e=c(e,100),0==r)n=i=s=e;else{var a=.5>e?e*(1+r):e+r-e*r,l=2*e-a;n=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:255*n,g:255*i,b:255*s}}function s(t,r,e){t=c(t,255),r=c(r,255),e=c(e,255);var o,n,i=x(t,r,e),s=_(t,r,e),a=i,l=i-s;if(n=0==i?0:l/i,i==s)o=0;else{switch(i){case t:o=(r-e)/l+(e>r?6:0);break;case r:o=(e-t)/l+2;break;case e:o=(t-r)/l+4}o/=6}return{h:o,s:n,v:a}}function a(t,r,e){var o,n,i;t=6*c(t,360),r=c(r,100),e=c(e,100);var s=C.floor(t),a=t-s,l=e*(1-r),h=e*(1-a*r),u=e*(1-(1-a)*r),p=s%6,o=[e,h,l,l,u,e][p],n=[u,e,e,h,l,l][p],i=[l,l,u,e,e,h][p];return{r:255*o,g:255*n,b:255*i}}function l(t,r,e){function o(t){return 1==t.length?"0"+t:""+t}var n=[o(w(t).toString(16)),o(w(r).toString(16)),o(w(e).toString(16))];return n[0][0]==n[0][1]&&n[1][0]==n[1][1]&&n[2][0]==n[2][1]?n[0][0]+n[1][0]+n[2][0]:n.join("")}function h(t){var r={};for(var e in t)t.hasOwnProperty(e)&&(r[t[e]]=e);return r}function c(t,r){f(t)&&(t="100%");var e=d(t);return t=_(r,x(0,S(t))),e&&(t=parseInt(t*r)/100),1e-6>C.abs(t-r)?1:t%r/S(r)}function u(t){return _(1,x(0,t))}function p(t){return parseInt(t,16)}function f(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===S(t)}function d(t){return"string"==typeof t&&-1!=t.indexOf("%")}function g(t){return 1>=t&&(t=100*t+"%"),t}function v(t){t=t.replace(y,"").replace(b,"").toLowerCase();var r=!1;if(H[t])t=H[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0};var e;return(e=P.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=P.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=P.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=P.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=P.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=P.hex6.exec(t))?{r:p(e[1]),g:p(e[2]),b:p(e[3]),format:r?"name":"hex"}:(e=P.hex3.exec(t))?{r:p(e[1]+""+e[1]),g:p(e[2]+""+e[2]),b:p(e[3]+""+e[3]),format:r?"name":"hex"}:!1}var y=/^[\s,#]+/,b=/\s+$/,m=0,C=Math,w=C.round,_=C.min,x=C.max,k=C.random,S=t.parseFloat;r.fromRatio=function(t){if("object"==typeof t){var e={};for(var o in t)e[o]=g(t[o]);t=e}return r(t)},r.equals=function(t,e){return t&&e?r(t).toHex()==r(e).toHex():!1},r.random=function(){return r.fromRatio({r:k(),g:k(),b:k()})},r.desaturate=function(t,e){var o=r(t).toHsl();return o.s-=(e||10)/100,o.s=u(o.s),r(o)},r.saturate=function(t,e){var o=r(t).toHsl();return o.s+=(e||10)/100,o.s=u(o.s),r(o)},r.greyscale=function(t){return r.desaturate(t,100)},r.lighten=function(t,e){var o=r(t).toHsl();return o.l+=(e||10)/100,o.l=u(o.l),r(o)},r.darken=function(t,e){var o=r(t).toHsl();return o.l-=(e||10)/100,o.l=u(o.l),r(o)},r.complement=function(t){var e=r(t).toHsl();return e.h=(e.h+180)%360,r(e)},r.triad=function(t){var e=r(t).toHsl(),o=e.h;return[r(t),r({h:(o+120)%360,s:e.s,l:e.l}),r({h:(o+240)%360,s:e.s,l:e.l})]},r.tetrad=function(t){var e=r(t).toHsl(),o=e.h;return[r(t),r({h:(o+90)%360,s:e.s,l:e.l}),r({h:(o+180)%360,s:e.s,l:e.l}),r({h:(o+270)%360,s:e.s,l:e.l})]},r.splitcomplement=function(t){var e=r(t).toHsl(),o=e.h;return[r(t),r({h:(o+72)%360,s:e.s,l:e.l}),r({h:(o+216)%360,s:e.s,l:e.l})]},r.analogous=function(t,e,o){e=e||6,o=o||30;var n=r(t).toHsl(),i=360/o,s=[r(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(r(n));return s},r.monochromatic=function(t,e){e=e||6;for(var o=r(t).toHsv(),n=o.h,i=o.s,s=o.v,a=[],l=1/e;e--;)a.push(r({h:n,s:i,v:s})),s=(s+l)%1;return a},r.readable=function(t,e){var o=r(t).toRgb(),n=r(e).toRgb();return(n.r-o.r)*(n.r-o.r)+(n.g-o.g)*(n.g-o.g)+(n.b-o.b)*(n.b-o.b)>10404};var H=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=r.hexNames=h(H),P=function(){var t="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",e="(?:"+r+")|(?:"+t+")",o="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();t.tinycolor=r}(this),function(){ColorCanvas.Color=function(){function t(t){this.set(tinycolor(t).toRgb())}return t.White=function(r){return new t({r:255,g:255,b:255,a:r})},t.Black=function(r){return new t({r:0,g:0,b:0,a:r})},t.Transparent=function(){return new t},t.prototype.tinycolor=function(){return tinycolor({r:this.r,g:this.g,b:this.b,a:this.a})},t.prototype.toHex=function(){return"#"+this.tinycolor().toHex().toUpperCase()},t.prototype.toHSV=function(){return this.tinycolor().toHsv()},t.prototype.toHSL=function(){return this.tinycolor().toHsl()},t.prototype.toRGB=function(){var t;return t={r:this.r,g:this.g,b:this.b}},t.prototype.toRGBA=function(){var t;return t={r:this.r,g:this.g,b:this.b,a:this.a}},t.prototype.toPure=function(){var r,e;return r=this.tinycolor().toHsl().h,e=tinycolor({h:r,s:100,l:50}).toRgb(),new t({r:e.r,g:e.g,b:e.b})},t.prototype.isTransparent=function(){return!this.a},t.prototype.set=function(t){return null!=t.r&&(this.r=parseInt(t.r,10)),null!=t.g&&(this.g=parseInt(t.g,10)),null!=t.b&&(this.b=parseInt(t.b,10)),null!=t.a&&(this.a=parseFloat(t.a)),isNaN(this.a)&&(this.a=1),this},t.prototype.clone=function(){return new t(this.toRGBA())},t.prototype.toString=function(){return null!=this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex()},t}()}.call(this),function(){var t,r,e=function(t,r){return function(){return t.apply(r,arguments)}},o={}.hasOwnProperty,n=function(t,r){function e(){this.constructor=t}for(var n in r)o.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};t=ColorCanvas.Color,r=ColorCanvas.Spine,ColorCanvas.Canvas=function(r){function o(){this.drop=e(this.drop,this),this.over=e(this.over,this),o.__super__.constructor.apply(this,arguments),this.canvas=$("<canvas />"),this.canvas.attr({width:this.width,height:this.height}),this.canvas.css({width:this.width,height:this.height}),this.ctx=this.canvas[0].getContext("2d"),this.append(this.canvas)}return n(o,r),o.prototype.width=100,o.prototype.height=100,o.prototype.events={"mousedown canvas":"drag"},o.prototype.val=function(r,e){var o;return o=this.ctx.getImageData(r,e,1,1).data,new t({r:o[0],g:o[1],b:o[2]})},o.prototype.drag=function(t){return this.canvas.mousemove(this.over),$(document).mouseup(this.drop),this.over(t)},o.prototype.over=function(t){var r,e,o;return t.preventDefault(),r=this.canvas.offset(),e=t.pageX-r.left,o=t.pageY-r.top,this.change(this.val(e,o))},o.prototype.change=function(t){return this.color=t,this.trigger("change",this.color)},o.prototype.drop=function(){return this.canvas.unbind("mousemove",this.over),$(document).unbind("mouseup",this.drop)},o.prototype.release=function(){return this.drop(),o.__super__.release.apply(this,arguments)},o}(r.Controller)}.call(this),function(){var t={}.hasOwnProperty,r=function(r,e){function o(){this.constructor=r}for(var n in e)t.call(e,n)&&(r[n]=e[n]);return o.prototype=e.prototype,r.prototype=new o,r.__super__=e.prototype,r};ColorCanvas.Alpha=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.position=new ColorCanvas.Position,this.append(this.position),this.color||(this.color=new ColorCanvas.Color.Black),this.setColor(this.color)}return r(e,t),e.prototype.className="alpha",e.prototype.width=25,e.prototype.height=215,e.prototype.render=function(){var t;return this.ctx.clearRect(0,0,this.width,this.height),t=this.ctx.createLinearGradient(0,0,0,this.height),t.addColorStop(0,this.color.clone().set({a:0}).toString()),t.addColorStop(1,this.color.clone().set({a:1}).toString()),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height),this.position.move(this.getCoords())},e.prototype.setColor=function(t){return this.color=t,this.render()},e.prototype.val=function(t,r){var e;return e=this.ctx.getImageData(t,r,1,1).data,this.color.clone().set({a:Math.round(100*(e[3]/255))/100})},e.prototype.getCoords=function(t){var r;return null==t&&(t=this.color),r={left:0,top:Math.round(t.a*this.height)}},e.prototype.change=function(t){return this.color=t,this.position.move(this.getCoords()),e.__super__.change.apply(this,arguments)},e}(ColorCanvas.Canvas)}.call(this),function(){this.ColorCanvas||(this.ColorCanvas={}),this.ColorCanvas["picker/views/display"]=function(t){t||(t={});var r,e=[],o=t.safe,n=t.escape;return r=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var r=new String(t);return r.ecoSafe=!0,r},n||(n=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){e.push('<div class="controls">\n  <form>\n    <label>\n      <span>R</span>\n      <input type="number" min="0" max="255" name="r" required autofocus>\n    </label>\n\n    <label>\n      <span>G</span>\n      <input type="number" min="0" max="255" name="g" required>\n    </label>\n\n    <label>\n      <span>B</span>\n      <input type="number" min="0" max="255" name="b" required>\n    </label>\n\n    <label>\n      <span>A</span>\n      <input type="number" min="0" max="100" step="1" name="a">%\n    </label>\n\n    <label>\n      <span>Hex</span>\n      <input type="text" name="hex">\n    </label>\n\n    <div class="preview">\n      <div class="inner">\n        &nbsp;\n      </div>\n    </div>\n  </form>\n</div>\n')}).call(this)}.call(t),t.safe=o,t.escape=n,e.join("")}}.call(this),function(){var t,r,e,o={}.hasOwnProperty,n=function(t,r){function e(){this.constructor=t}for(var n in r)o.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};t=ColorCanvas.Color,r=ColorCanvas.Spine,e=ColorCanvas["picker/views/display"],ColorCanvas.Display=function(r){function o(){o.__super__.constructor.apply(this,arguments),this.color||(this.color=new t),this.render(),this.setColor(this.color)}return n(o,r),o.prototype.tag="article",o.prototype.elements={"input[name=hex]":"$hex","input[name=r]":"$r","input[name=g]":"$g","input[name=b]":"$b","input[name=a]":"$a",".preview .inner":"$preview",".preview .original":"$original"},o.prototype.events={"change input:not([name=hex])":"changeInput","keyup input[name=hex]":"changeHex","submit form":"changeInput"},o.prototype.render=function(){return this.html(e(this)),this.original?this.$original.css({background:this.original.toString()}):void 0},o.prototype.setColor=function(t){return this.color=t,this.$r.val(this.color.r),this.$g.val(this.color.g),this.$b.val(this.color.b),this.$a.val(Math.round(100*this.color.a)),this.$hex.val(this.color.toHex()),this.$preview.css({background:this.color.toString()})},o.prototype.changeInput=function(r){return r.preventDefault(),this.color=new t({r:this.$r.val(),g:this.$g.val(),b:this.$b.val(),a:parseFloat(this.$a.val())/100}),this.trigger("change",this.color)},o.prototype.changeHex=function(r){return r.preventDefault(),this.color=new t(this.$hex.val()),this.$r.val(this.color.r),this.$g.val(this.color.g),this.$b.val(this.color.b),this.$preview.css({background:this.color.toString()}),this.trigger("change",this.color)},o}(r.Controller)}.call(this),function(){var t,r={}.hasOwnProperty,e=function(t,e){function o(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},o=[].slice;t=ColorCanvas.Color,ColorCanvas.Gradient=function(r){function n(){n.__super__.constructor.apply(this,arguments),this.position=new ColorCanvas.Position,this.append(this.position),this.color||(this.color=new t.Black),this.setColor(this.color)}return e(n,r),n.prototype.className="gradient",n.prototype.width=250,n.prototype.height=215,n.prototype.setColor=function(t){return this.color=t,this.render()},n.prototype.renderGradient=function(){var t,r,e,n,i,s,a,l,h;for(i=arguments[0],r=arguments.length>=2?o.call(arguments,1):[],e=(l=this.ctx).createLinearGradient.apply(l,[0,0].concat(o.call(i))),e.addColorStop(0,null!=(h=r.shift())?h.toString():void 0),n=s=0,a=r.length;a>s;n=++s)t=r[n],e.addColorStop(n+1/r.length,t.toString());return this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)},n.prototype.render=function(){var r,e;return this.ctx.clearRect(0,0,this.width,this.height),this.renderGradient([this.width,0],new t.White,new t.White),e=this.color.toPure(),this.renderGradient([this.width,0],e.clone().set({a:0}),e.clone().set({a:1})),r=this.ctx.createLinearGradient(0,0,-6,this.height),r.addColorStop(0,new t.Black(0).toString()),r.addColorStop(1,new t.Black(1).toString()),this.ctx.fillStyle=r,this.ctx.fillRect(0,0,this.width,this.height),this.position.move(this.getCoords())},n.prototype.getCoords=function(t){var r,e;return null==t&&(t=this.color),r=t.toHSV(),e={left:Math.round(this.width*r.s),top:Math.round(this.height*(1-r.v))}},n.prototype.change=function(t){return this.color=t,this.position.move(this.getCoords()),n.__super__.change.apply(this,arguments)},n}(ColorCanvas.Canvas)}.call(this),function(){var t,r={}.hasOwnProperty,e=function(t,e){function o(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};t=ColorCanvas.Spine,ColorCanvas.Position=function(t){function r(){r.__super__.constructor.apply(this,arguments),this.el.css({position:"absolute"})}return e(r,t),r.prototype.className="position",r.prototype.move=function(t){return this.el.css(t)},r}(t.Controller)}.call(this),function(){var t,r,e={}.hasOwnProperty,o=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};r=ColorCanvas.Color,t=ColorCanvas.Canvas,ColorCanvas.Spectrum=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.position=new ColorCanvas.Position,this.append(this.position),this.color||(this.color=new r),this.setColor(this.color)}return o(e,t),e.prototype.className="spectrum",e.prototype.width=25,e.prototype.height=215,e.prototype.render=function(){var t;return this.ctx.clearRect(0,0,this.width,this.height),t=this.ctx.createLinearGradient(0,0,0,this.height),t.addColorStop(0,"rgb(255,   0,   0)"),t.addColorStop(.16,"rgb(255,   0, 255)"),t.addColorStop(.33,"rgb(0,     0, 255)"),t.addColorStop(.5,"rgb(0,   255, 255)"),t.addColorStop(.67,"rgb(0,   255,   0)"),t.addColorStop(.83,"rgb(255, 255,   0)"),t.addColorStop(1,"rgb(255,   0,   0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height),this.position.move(this.getCoords())},e.prototype.setColor=function(t){return this.color=t,this.render()},e.prototype.getCoords=function(t){var r,e;return null==t&&(t=this.color),r=t.toHSV(),e={left:0,top:Math.round(this.height*(1-r.h/360))}},e.prototype.change=function(t){return this.color=t,this.position.move(this.getCoords()),e.__super__.change.apply(this,arguments)},e}(t)}.call(this),function(){var t,r,e,o,n,i,s={}.hasOwnProperty,a=function(t,r){function e(){this.constructor=t}for(var o in r)s.call(r,o)&&(t[o]=r[o]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};i=ColorCanvas.Spine,r=ColorCanvas.Color,o=ColorCanvas.Gradient,n=ColorCanvas.Spectrum,t=ColorCanvas.Alpha,e=ColorCanvas.Display,ColorCanvas.Picker=function(i){function s(){s.__super__.constructor.apply(this,arguments),this.color||(this.color=new r({r:255,g:0,b:0})),this.color instanceof r||(this.color=new r(this.color)),this.original=this.color.clone(),this.render()}return a(s,i),s.prototype.className="colorCanvas",s.prototype.events={"click [data-type=cancel]":"cancel"},s.prototype.render=function(){var i=this;return this.el.empty(),this.gradient=new o({color:this.color}),this.spectrum=new n({color:this.color}),this.alpha=new t({color:this.color}),this.display=new e({color:this.color,original:this.original}),this.gradient.bind("change",function(t){return i.color.set(t.toRGB()),i.display.setColor(i.color),i.alpha.setColor(i.color),i.change()}),this.spectrum.bind("change",function(t){var e;return e=i.color.toHSV(),e.h=t.toHSV().h,t=new r(e),i.color.set(t.toRGB()),i.gradient.setColor(i.color),i.display.setColor(i.color),i.alpha.setColor(i.color),i.change()}),this.alpha.bind("change",function(t){return i.color.set({a:t.a}),i.display.setColor(i.color),i.change()}),this.display.bind("change",function(t){return i.color.set(t.toRGBA()),i.gradient.setColor(i.color),i.spectrum.setColor(i.color),i.alpha.setColor(i.color),i.change()}),this.append(this.gradient,this.spectrum,this.alpha,this.display)},s.prototype.cancel=function(t){return t.preventDefault(),this.change(this.original)},s.prototype.change=function(t){return null==t&&(t=this.color),this.trigger("change",t)},s.prototype.release=function(){return s.__super__.release.apply(this,arguments),this.gradient.release(),this.spectrum.release(),this.display.release()},s}(i.Controller)}.call(this);